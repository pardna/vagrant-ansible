function findTags(a){openingTags=a("#before-content").val(),tempElement=document.createElement("div"),a(tempElement).append(openingTags),a(tempElement).html().indexOf(openingTags)>-1&&(closingTags=a(tempElement).html().replace(openingTags,""),a("#after-content").val(closingTags))}function processChanges(a){var b="",c=a("#seperator").val(),d=a("#wrapper-tag").val();""!=d&&(b+="<"+a("#wrapper-tag").val()+' class="'+a("#wrapper-class").val()+'" id="'+a("#wrapper-id").val()+'">\n	'),b+=a("#before-content").val(),b+="\n	 "+processChangesAddLink('<a href="#">'+a("#firstpage").val()+"</a>")+" "+c,b+="\n	 "+processChangesAddLink('<a href="#">'+a("#link-before").val()+a("#previouspagelink").val()+a("#link-after").val()+"</a>")+" "+c,b+="\n	 "+a("#elipsis").val()+" "+c,numbers=a("#pages-to-scroll-count").length>0?a("#pages-to-scroll-count").val():3;for(var e=1;numbers>=e;e++)b+="\n	 "+processChangesAddLink(processChangesAddNumber(e))+" "+c;b+="\n	 "+a("#elipsis").val()+" "+c,b+="\n	 "+processChangesAddLink('<a href="#">'+a("#link-before").val()+a("#nextpagelink").val()+a("#link-after").val()+"</a>")+" "+c,b+="\n	 "+processChangesAddLink('<a href="#">'+a("#lastpage").val()+"</a>")+" ",a("#view-single-link").is(":checked")&&(b+=c+"\n	 "+processChangesAddLink('<a href="#">'+a("#text-single-link").val()+"</a>")),b+="\n	 "+a("#after-content").val(),""!=d&&(b+="\n</"+a("#wrapper-tag").val()+">\n"),b="<strong>Browser</strong><BR />"+b.replace("\n","")+'<BR /><BR /><strong>HTML</strong><BR /><xmp style="width: 50%;">'+b+"</xmp>",a("div.anatomy_holder").html(b)}function processChangesAddLink(a){var b="",c=jQuery("#link-wrapper").val();return""!=c&&(b="<"+c+' class="'+jQuery("#link-wrapper-class").val()+'">'),b+=a,""!=c&&(b+="</"+c+">"),b}function processChangesAddNumber(a){var b="",c=jQuery("#pagelink").val();return c=c.replace("%page%",a),c=c.replace("%title%","Title"),b='<a href="#">'+c+"</a>"}jQuery(document).ready(function(a){a("#before-content").on("keyup",function(){a(this).val().indexOf("script")>-1&&a(this).val(a(this).val().replace("script","span")),findTags(a)}).on("keydown",function(b){8==b.keyCode&&(a(this).val().indexOf("script")>-1&&a(this).val(a(this).val().replace("script","span")),findTags(a))}),a("#wrapper-tag").on("keyup",function(){a(this).val().indexOf("script")>-1&&a(this).val(a(this).val().replace("script","span"))}).on("keydown",function(b){8==b.keyCode&&a(this).val().indexOf("script")>-1&&a(this).val(a(this).val().replace("script","span"))}),a("#link-wrapper").on("keyup",function(){a(this).val().indexOf("script")>-1&&a(this).val(a(this).val().replace("script","span"))}).on("keydown",function(b){8==b.keyCode&&a(this).val().indexOf("script")>-1&&a(this).val(a(this).val().replace("script","span"))}),a("#wrapper-id").keydown(function(b){return 32==b.keyCode?(a(this).val(a(this).val()+"-"),!1):void 0}).change(function(){a(this).val(function(a,b){return b.replace(" ","-")})}),a("#sh_pagelinks_options_form input").blur(function(){processChanges(a)}),processChanges(a)});